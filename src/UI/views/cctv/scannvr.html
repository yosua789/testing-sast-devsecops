{%- extends "layout/base.html" -%}
{%- block content -%}

<div class="container-fluid py-4">
    <div class="row my-4">
        <div class="col-lg-12 col-md-12 mb-md-0 mb-4">
            <div class="card">
                <div class="card-header pb-0">
                    <div class="row">
                        <div class="col-lg-6 col-7">
                            <h6>NVR Required input</h6>
                        </div>
                    </div>
                </div>
                <div class="card-body px-4 pb-2">
                    <div id="result">
                        <form>
                            <div class="mb-3">
                                <label for="ipNvr" class="form-label">IP NVR</label>
                                
                                <input name="ip" id="ipNvr" class="form-control" placeholder="Ip nvr">
                            </div>
                            <div class="mb-3">
                                <label for="usernameNvr" class="form-label">Username NVR</label>
                                
                                <input name="username" id="usernameNvr" class="form-control" placeholder="username nvr">
                            </div>
                            <div class="mb-3">
                                <label for="passwordNvr" class="form-label">Password NVR</label>
                                
                                <input name="password" id="passwordNvr" class="form-control" placeholder="password nvr">
                            </div>
                            <button class="btn btn-primary" onclick="detailNvr(event)">Submit</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
</main>


{%- endblock -%}

{%- block extrajs -%}
<script>
    function detailNvr(e){
        e.preventDefault();
        var ip = $('#ipNvr').val()
        var username = $('#usernameNvr').val()
        var password = $('#passwordNvr').val()

        if (ip == ''){
            alert('Ip nvr is empty')
        }

        if (username == "" && password == ""){
            return window.location.href = '/cctv/scan-detail?ip='+ip;
        }

        if (username && (!password || password == "")){
            alert('Password is empty')
        }

        if (password && (!username || username == "")){
            alert('username is empty')
        }

        window.location.href = '/cctv/scan-detail?ip='+ip+'&username='+username+'&password='+password

    }

</script>
{%- endblock -%}